cn_march_governer = { 
	subject_pays = subject_pays_march
	color = subject_march
	level = 1
	visible_through_diplomacy = {
		country_rank_level >= scope:target.country_rank_level
		scope:target = { subject_type_is_not_locked = yes }
		
		#Japanese Imperial Courts Exception
		trigger_if = {
			limit = {
				is_member_of_international_organization = international_organization:japanese_shogunate
				is_situation_active = situation:nanbokuchou
			}
			NOT = {
				scope:target = {
					has_special_status_in_international_organization = {
						type = special_status:japanese_emperor
						international_organization = international_organization:japanese_shogunate
					}
				}
			}
		}
	}

	visible_through_treaty = {
		country_rank_level >= scope:target.country_rank_level
		scope:target = { subject_type_is_not_locked = yes }
		
		#Japanese Imperial Courts Exception
		trigger_if = {
			limit = {
				is_member_of_international_organization = international_organization:japanese_shogunate
				is_situation_active = situation:nanbokuchou
			}
			NOT = {
				scope:target = {
					has_special_status_in_international_organization = {
						type = special_status:japanese_emperor
						international_organization = international_organization:japanese_shogunate
					}
				}
			}
		}
	}
	
	join_offensive_wars_always = {
		always = no
	}
    join_offensive_wars_can_call = {
        OR = {
        # ───────────────
        # 情况 A：宗主 → 附庸（宗主发动侵略）
        # ───────────────
            scope:recipient ?= {
                is_subject_of = scope:actor
            }
        # ───────────────
        # 情况 B：附庸 → 宗主（附庸发动侵略，但不是内斗）
        # ───────────────
            AND = {
                # caller 是附庸
                scope:actor ?= { is_subject_of = scope:recipient }
                # 目标不是同一宗主下的附庸
                NOT = {
                    scope:target ?= {
                        is_subject = yes
                        overlord = scope:recipient
                    }
                }
            }
        }
    }
    join_defensive_wars_always = {
        OR = {
        # ───────────────
        # 情况 C：宗主被侵略 → 附庸自动参战
        # ───────────────
            scope:recipient ?= {
                is_subject_of = scope:actor
            }
        # ───────────────
        # 情况 D：附庸被外敌侵略 → 宗主自动参战
        # （排除同宗主附庸内斗）
        # ───────────────
            AND = {
                scope:actor ?= { is_subject_of = scope:recipient }
                NOT = {
                    scope:target ?= {
                        is_subject = yes
                        overlord = scope:recipient
                    }
                }
            }
        }
    }
    join_defensive_wars_can_call = {
        always = no
    }





	has_overlords_ruler = no
	annexation_speed = 0
	overlord_can_cancel = no
	diplomatic_capacity_cost_scale = 0.2
	
	
	can_overlord_build_roads = yes
	can_overlord_build_buildings = yes
	can_overlord_build_rgos = yes
	
	
	can_overlord_recruit_regiments = yes
    can_overlord_build_ships = yes

	
	has_limited_diplomacy = yes

    can_attack = { 
        # attacker 是 subject
        scope:attacker = scope:subject

        # defender 也是 subject
        scope:defender ?= {
            is_subject = yes
        }

        # 同一宗主
        scope:defender ?= {
            overlord = scope:overlord
        }

        # 同一 subject type
        scope:defender ?= {
            OR = {
                subject_type = root #藩镇内战
                subject_type = subject_type:tusi #兼并土司
            }
        }
    }
    can_rival = {
        scope:actor = scope:subject
        scope:recipient ?= {
            is_subject = yes
            overlord = scope:overlord
            OR = {
                subject_type = root #藩镇内战
                subject_type = subject_type:tusi #兼并土司
            }
        }
    }
    can_marry = {
        scope:actor = scope:subject
        scope:recipient ?= {
            is_subject = yes
            overlord = scope:overlord
            OR = {
                subject_type = root #藩镇内战
                subject_type = subject_type:tusi #兼并土司
            }
        }
    }
    allow_declaring_wars = {
        scope:defender ?= {
            is_subject = yes
            overlord = scope:overlord
            OR = {
                subject_type = root #藩镇内战
                subject_type = subject_type:tusi #兼并土司
            }
        }
    }




	
	can_change_rank = no
	can_change_heir_selection = no

	minimum_opinion_for_offer = 150

	great_power_score_transfer = 0.8 # the amount of Great Power Score that is transferred from the Subject to the Overlord
	
	institution_spread_to_overlord = monthly_institution_spread_severe
	institution_spread_to_subject = monthly_institution_spread_severe
	
	strength_vs_overlord = -1
	
	overlord_modifier = {
	}

	subject_modifier = {
		#discipline = 0.05
		#global_defensive = 0.10
		fort_maintenance_cost = -0.10
		#fort_limit = 1
	}
	
	on_enable = {
	}

	on_disable = {
	}

	diplo_chance_accept_subject = {
		base = -90
		
		
		current_strength = 0.2
		border_distance = -0.3
		negative_opinion = -5
		positive_opinion = 0.25
		rank_difference = -5
		giving_defensive_support = 2
		receiving_defensive_support = 5
		royal_ties = 1
		
		num_of_limited_subjects = -5
		culture_war = 3
		diplomatic_reputation = 1
		different_religion = -20
		same_common_language = 5
		same_court_language = 10
		different_culture = -10
		different_government_type = -25
		actor_at_war = -20
		competing_power = -200
		tax_base = -0.25
		
		reject_subjugation_reasons = -1
		accept_subjugation_reasons = 1
	}

	diplo_chance_accept_overlord = {
		base = 18
		border_distance = -0.3
		negative_opinion = -5
		positive_opinion = 0.25
		same_common_language = 5
		same_court_language = 10
		different_culture = -10
		different_government_type = -25
		actor_at_war = -20
		competing_power = -200
	}

	ai_wants_to_be_overlord = {
        scope:subject = {
			add = {
                desc = "COALITION_GRADE_ANTAGONISM_TOWARDS_THEM_SUBJECT"
                value = {
                    every_country_with_coalition_grade_antagonism_against_us = {                    
                        add = {
                            value = -10
                        }
                    }
                }
            }
        }
	}
}

