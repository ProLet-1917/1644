# ğŸ“¦ EU5 Mod Agent ä¾¿æºå¼ä½¿ç”¨æŒ‡å—

ä¸“ä¸ºè·¨ç”µè„‘ä½¿ç”¨è®¾è®¡çš„å®Œæ•´æŒ‡å—ã€‚

## ğŸ¯ é€‚ç”¨åœºæ™¯

- âœ… åœ¨å¤šå°ç”µè„‘ä¸Šå¼€å‘åŒä¸€ä¸ªmod
- âœ… å›¢é˜Ÿåä½œå¼€å‘
- âœ… ä¸åŒæ¸¸æˆå®‰è£…è·¯å¾„
- âœ… ä¾¿æºå¼å¼€å‘ç¯å¢ƒ

## ğŸ“‹ ç³»ç»Ÿè¦æ±‚

### æœ€ä½è¦æ±‚ï¼ˆåŸºç¡€åŠŸèƒ½ï¼‰
- Python 3.9+
- Node.js 18+
- 5GB å¯ç”¨ç©ºé—´

### æ¨èé…ç½®ï¼ˆå®Œæ•´åŠŸèƒ½ï¼‰
- Python 3.10+ æˆ– 3.11
- Node.js 20+
- 10GB å¯ç”¨ç©ºé—´ï¼ˆåŒ…å«çŸ¥è¯†åº“ï¼‰
- 8GB RAM

## ğŸš€ é¦–æ¬¡è®¾ç½®ï¼ˆç”µè„‘Aï¼‰

### æ­¥éª¤1ï¼šå®‰è£…ä¾èµ–

```bash
# æ–¹æ³•1ï¼šä½¿ç”¨pipï¼ˆPython 3.10+ï¼‰
pip install pyyaml langchain langchain-community chromadb sentence-transformers

# æ–¹æ³•2ï¼šä½¿ç”¨å›½å†…é•œåƒï¼ˆæ›´å¿«ï¼‰
pip install -i https://pypi.tuna.tsinghua.edu.cn/simple pyyaml langchain langchain-community chromadb sentence-transformers
```

### æ­¥éª¤2ï¼šè‡ªåŠ¨é…ç½®

```bash
# è‡ªåŠ¨æ£€æµ‹æ¸¸æˆè·¯å¾„å¹¶é…ç½®
python scripts/auto_config.py
```

è¿™ä¸ªè„šæœ¬ä¼šï¼š
- ğŸ” è‡ªåŠ¨æœç´¢EU5æ¸¸æˆå®‰è£…ä½ç½®
- âš™ï¸ é…ç½®MCPæœåŠ¡å™¨
- ğŸ“ åˆ›å»ºç¯å¢ƒå˜é‡æ–‡ä»¶
- âœ… éªŒè¯é…ç½®

### æ­¥éª¤3ï¼šæ„å»ºä¾¿æºçŸ¥è¯†åº“

```bash
# æ„å»ºå¹¶å‹ç¼©çŸ¥è¯†åº“ï¼ˆåªéœ€ä¸€æ¬¡ï¼Œçº¦10-15åˆ†é’Ÿï¼‰
python scripts/build_portable_kb.py
```

ç”Ÿæˆæ–‡ä»¶ï¼š
- `knowledge-base/eu5-kb-prebuilt.zip` (çº¦200-500MB)

è¿™ä¸ªæ–‡ä»¶å¯ä»¥åœ¨ä»»ä½•ç”µè„‘ä¸Šä½¿ç”¨ï¼

### æ­¥éª¤4ï¼šéªŒè¯è®¾ç½®

```bash
python scripts/check_environment.py
```

åº”è¯¥çœ‹åˆ°æ‰€æœ‰æ£€æŸ¥é€šè¿‡ âœ“

## ğŸ“¤ å¯¼å‡ºåˆ°å…¶ä»–ç”µè„‘

### æ–¹æ³•1ï¼šå®Œæ•´æ‰“åŒ…ï¼ˆæ¨èï¼‰

```bash
# åˆ›å»ºä¾¿æºåŒ…ï¼ˆåŒ…å«çŸ¥è¯†åº“ï¼‰
python scripts/export_portable.py
```

ä¼šç”Ÿæˆï¼š
- `eu5-mod-agent-portable.zip` (åŒ…å«æ‰€æœ‰å¿…éœ€æ–‡ä»¶)

### æ–¹æ³•2ï¼šæ‰‹åŠ¨æ‰“åŒ…

å¤åˆ¶ä»¥ä¸‹æ–‡ä»¶/ç›®å½•ï¼š
```
ğŸ“¦ è¦å¤åˆ¶çš„å†…å®¹
â”œâ”€â”€ ğŸ“ scripts/                    âœ… å¿…éœ€
â”œâ”€â”€ ğŸ“ mcp-servers/                âœ… å¿…éœ€
â”œâ”€â”€ ğŸ“ prompts/                    âœ… å¿…éœ€
â”œâ”€â”€ ğŸ“„ config.yaml                 âœ… å¿…éœ€
â”œâ”€â”€ ğŸ“„ .mcp-config.json           âš ï¸  åˆ°æ–°ç”µè„‘éœ€é‡æ–°ç”Ÿæˆ
â”œâ”€â”€ ğŸ“ knowledge-base/
â”‚   â””â”€â”€ ğŸ“„ eu5-kb-prebuilt.zip    âœ… å¿…éœ€ï¼ˆå¦‚ä½¿ç”¨RAGï¼‰
â””â”€â”€ ğŸ“ [ä½ çš„modæ–‡ä»¶]               âœ… å¿…éœ€
```

âŒ **ä¸è¦å¤åˆ¶**ï¼š
- `.env` ï¼ˆåŒ…å«ç‰¹å®šç”µè„‘çš„è·¯å¾„ï¼‰
- `knowledge-base/chroma-db/` ï¼ˆæœªå‹ç¼©çš„ï¼Œä½“ç§¯å¤§ï¼‰
- `__pycache__/`
- `.vscode/` ï¼ˆä¸ªäººè®¾ç½®ï¼‰

## ğŸ“¥ åœ¨æ–°ç”µè„‘ä¸Šä½¿ç”¨ï¼ˆç”µè„‘Bï¼‰

### æ­¥éª¤1ï¼šè§£å‹æ–‡ä»¶

```bash
# è§£å‹ä¾¿æºåŒ…åˆ°å·¥ä½œç›®å½•
unzip eu5-mod-agent-portable.zip
cd eu5-mod-agent-portable
```

### æ­¥éª¤2ï¼šè‡ªåŠ¨é…ç½®

```bash
# è‡ªåŠ¨æ£€æµ‹æ–°ç”µè„‘çš„æ¸¸æˆè·¯å¾„
python scripts/auto_config.py
```

ä¼šè‡ªåŠ¨ï¼š
- ğŸ” æœç´¢EU5å®‰è£…ä½ç½®
- âš™ï¸ æ›´æ–°MCPé…ç½®
- ğŸ“ åˆ›å»ºé€‚é…æ–°ç¯å¢ƒçš„é…ç½®

### æ­¥éª¤3ï¼šåŠ è½½çŸ¥è¯†åº“

```bash
# è§£å‹é¢„æ„å»ºçš„çŸ¥è¯†åº“
python scripts/load_portable_kb.py
```

è¿™æ¯”é‡æ–°æ„å»ºå¿«å¾—å¤šï¼ˆçº¦1-2åˆ†é’Ÿ vs 10-15åˆ†é’Ÿï¼‰

### æ­¥éª¤4ï¼šå¯åŠ¨ä½¿ç”¨

```bash
# æ£€æŸ¥ç¯å¢ƒ
python scripts/check_environment.py

# é‡å¯Cursor
# å¼€å§‹ä½¿ç”¨ï¼
```

## âš™ï¸ é…ç½®æ–‡ä»¶è¯¦è§£

### config.yaml

è¿™æ˜¯æ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼Œæ”¯æŒå¤šè·¯å¾„è‡ªåŠ¨æ£€æµ‹ï¼š

```yaml
# æ¸¸æˆè·¯å¾„ - æŒ‰ä¼˜å…ˆçº§å°è¯•
game_paths:
  - "C:\\Program Files (x86)\\Steam\\steamapps\\common\\Europa Universalis V"
  - "D:\\Steam\\steamapps\\common\\Europa Universalis V"
  - "${EU5_PATH}"  # ç¯å¢ƒå˜é‡

# æ‰‹åŠ¨æŒ‡å®šï¼ˆæœ€é«˜ä¼˜å…ˆçº§ï¼‰
custom_game_path: null

# çŸ¥è¯†åº“é…ç½®
knowledge_base:
  use_prebuilt: true  # ä½¿ç”¨é¢„æ„å»ºçŸ¥è¯†åº“
  prebuilt_db: "knowledge-base/eu5-kb-prebuilt.zip"
```

### æ‰‹åŠ¨è®¾ç½®æ¸¸æˆè·¯å¾„

å¦‚æœè‡ªåŠ¨æ£€æµ‹å¤±è´¥ï¼š

```yaml
# ç¼–è¾‘ config.yaml
custom_game_path: "ä½ çš„æ¸¸æˆè·¯å¾„"

# ä¾‹å¦‚ï¼š
# custom_game_path: "E:\\Games\\Europa Universalis V"
```

ç„¶åé‡æ–°è¿è¡Œï¼š
```bash
python scripts/auto_config.py
```

## ğŸ”„ æ›´æ–°æµç¨‹

### æ›´æ–°æ¸¸æˆä»£ç çŸ¥è¯†åº“

å½“æ¸¸æˆæ›´æ–°åï¼š

```bash
# ç”µè„‘Aï¼šé‡æ–°æ„å»ºçŸ¥è¯†åº“
python scripts/build_portable_kb.py

# åªå¤åˆ¶æ›´æ–°çš„çŸ¥è¯†åº“æ–‡ä»¶
# knowledge-base/eu5-kb-prebuilt.zip

# ç”µè„‘Bï¼šåŠ è½½æ–°çš„çŸ¥è¯†åº“
python scripts/load_portable_kb.py
```

### æ›´æ–°modæ–‡ä»¶

æ­£å¸¸ä½¿ç”¨Gitæˆ–æ–‡ä»¶åŒæ­¥ï¼š

```bash
# ä½¿ç”¨Gitï¼ˆæ¨èï¼‰
git pull origin main

# æˆ–æ‰‹åŠ¨å¤åˆ¶modæ–‡ä»¶
# in_game/, main_menu/, loading_screen/
```

## ğŸŒ å›¢é˜Ÿåä½œ

### å…±äº«çŸ¥è¯†åº“

1. **æ„å»ºä¸€æ¬¡ï¼Œå›¢é˜Ÿå…±äº«**ï¼š
   ```bash
   # ç”±ä¸€äººæ„å»º
   python scripts/build_portable_kb.py
   
   # ä¸Šä¼ åˆ°å…±äº«ä½ç½®
   # - äº‘ç›˜ï¼ˆç™¾åº¦ç½‘ç›˜ã€OneDriveï¼‰
   # - Git LFS
   # - å±€åŸŸç½‘å…±äº«
   ```

2. **å›¢é˜Ÿæˆå‘˜ä¸‹è½½ä½¿ç”¨**ï¼š
   ```bash
   # ä¸‹è½½ eu5-kb-prebuilt.zip
   # æ”¾åˆ° knowledge-base/ ç›®å½•
   python scripts/load_portable_kb.py
   ```

### ç»Ÿä¸€é…ç½®

åˆ›å»ºå›¢é˜Ÿé…ç½®æ¨¡æ¿ï¼š

```yaml
# team-config.yaml
game_paths:
  - "${TEAM_GAME_PATH}"
  - "C:\\Program Files (x86)\\Steam\\steamapps\\common\\Europa Universalis V"
  - "D:\\Games\\EU5"

# æ¯ä¸ªæˆå‘˜è®¾ç½®ç¯å¢ƒå˜é‡
# Windows: set TEAM_GAME_PATH=ä½ çš„è·¯å¾„
# Linux/Mac: export TEAM_GAME_PATH=ä½ çš„è·¯å¾„
```

## ğŸ“Š ä¸åŒåœºæ™¯çš„æ¨èé…ç½®

### åœºæ™¯1ï¼šä¸ªäººå¼€å‘ï¼Œå¤šç”µè„‘åˆ‡æ¢

```yaml
# config.yaml
knowledge_base:
  use_prebuilt: true  # ä½¿ç”¨é¢„æ„å»º
  
# æ¯æ¬¡åˆ‡æ¢ç”µè„‘ï¼š
# 1. python scripts/auto_config.py
# 2. å¦‚æœçŸ¥è¯†åº“ä¸å­˜åœ¨ï¼špython scripts/load_portable_kb.py
```

### åœºæ™¯2ï¼šå›¢é˜Ÿåä½œ

```yaml
# config.yaml
knowledge_base:
  use_prebuilt: true
  prebuilt_db: "shared/eu5-kb-prebuilt.zip"  # å…±äº«ä½ç½®

# åˆå§‹è®¾ç½®ï¼š
# 1. å…‹éš†gitä»“åº“
# 2. ä¸‹è½½å…±äº«çŸ¥è¯†åº“
# 3. python scripts/auto_config.py
# 4. python scripts/load_portable_kb.py
```

### åœºæ™¯3ï¼šä¾¿æºå¼€å‘ï¼ˆUç›˜/ç§»åŠ¨ç¡¬ç›˜ï¼‰

```yaml
# ä½¿ç”¨ç›¸å¯¹è·¯å¾„
custom_game_path: "${PORTABLE_DRIVE}\\EU5"

# è®¾ç½®ç¯å¢ƒå˜é‡æŒ‡å‘Uç›˜
# set PORTABLE_DRIVE=E:
```

## ğŸ” æ•…éšœæ’é™¤

### é—®é¢˜1ï¼šæ¸¸æˆè·¯å¾„æœªæ‰¾åˆ°

**ç—‡çŠ¶**ï¼š`auto_config.py` æ— æ³•æ‰¾åˆ°æ¸¸æˆ

**è§£å†³**ï¼š
```bash
# æ–¹æ³•1ï¼šæ‰‹åŠ¨é…ç½®
ç¼–è¾‘ config.yaml:
custom_game_path: "å®é™…æ¸¸æˆè·¯å¾„"

# æ–¹æ³•2ï¼šè®¾ç½®ç¯å¢ƒå˜é‡
# Windows
set EU5_PATH=æ¸¸æˆè·¯å¾„
# Linux/Mac
export EU5_PATH=æ¸¸æˆè·¯å¾„

# é‡æ–°è¿è¡Œ
python scripts/auto_config.py
```

### é—®é¢˜2ï¼šçŸ¥è¯†åº“åŠ è½½å¤±è´¥

**ç—‡çŠ¶**ï¼š`load_portable_kb.py` æŠ¥é”™

**è§£å†³**ï¼š
```bash
# æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨
ls knowledge-base/eu5-kb-prebuilt.zip

# å¦‚æœä¸å­˜åœ¨ï¼Œéœ€è¦é‡æ–°æ„å»ºæˆ–ä¸‹è½½
python scripts/build_portable_kb.py
```

### é—®é¢˜3ï¼šä¸åŒPythonç‰ˆæœ¬

**ç—‡çŠ¶**ï¼šç”µè„‘Aç”¨Python 3.11ï¼Œç”µè„‘Båªæœ‰3.9

**è§£å†³**ï¼š
```yaml
# config.yaml - ç¦ç”¨éœ€è¦é«˜ç‰ˆæœ¬çš„åŠŸèƒ½
mcp:
  servers:
    rag:
      enabled: false  # Python 3.9ä¸æ”¯æŒMCP

# ä»å¯ä½¿ç”¨åŸºç¡€åŠŸèƒ½ï¼š
# - ä»£ç ç”Ÿæˆ
# - æ–‡ä»¶éªŒè¯
# - æ–‡ä»¶ç³»ç»ŸMCP
```

### é—®é¢˜4ï¼šè·¯å¾„åˆ†éš”ç¬¦é—®é¢˜

**ç—‡çŠ¶**ï¼šWindows/Linuxè·¯å¾„ä¸åŒ

**è§£å†³**ï¼š
è„šæœ¬ä¼šè‡ªåŠ¨å¤„ç†ï¼Œä½†æ‰‹åŠ¨ç¼–è¾‘æ—¶æ³¨æ„ï¼š

```yaml
# Windows - ä½¿ç”¨åŒåæ–œæ æˆ–æ­£æ–œæ 
path: "C:\\Games\\EU5"
path: "C:/Games/EU5"  # ä¹Ÿå¯ä»¥

# Linux/Mac - ä½¿ç”¨æ­£æ–œæ 
path: "/home/user/games/eu5"
```

## âœ… æ£€æŸ¥æ¸…å•

### é¦–æ¬¡è®¾ç½®
- [ ] Python 3.9+ å·²å®‰è£…
- [ ] Node.js 18+ å·²å®‰è£…
- [ ] è¿è¡Œ `auto_config.py` æˆåŠŸ
- [ ] è¿è¡Œ `build_portable_kb.py` æˆåŠŸ
- [ ] çŸ¥è¯†åº“æ–‡ä»¶ `.zip` å·²ç”Ÿæˆ

### è¿ç§»åˆ°æ–°ç”µè„‘
- [ ] æ‰€æœ‰æ–‡ä»¶å·²å¤åˆ¶
- [ ] è¿è¡Œ `auto_config.py` æˆåŠŸ
- [ ] è¿è¡Œ `load_portable_kb.py` æˆåŠŸ
- [ ] è¿è¡Œ `check_environment.py` å…¨éƒ¨é€šè¿‡
- [ ] Cursoré‡å¯ï¼ŒMCPå·²è¿æ¥

### å›¢é˜Ÿåä½œ
- [ ] çŸ¥è¯†åº“å·²å…±äº«
- [ ] é…ç½®æ–‡ä»¶å·²åŒæ­¥
- [ ] Gitä»“åº“å·²è®¾ç½®
- [ ] æ‰€æœ‰æˆå‘˜ç¯å¢ƒå·²é…ç½®

## ğŸ“š æ–‡ä»¶å¤§å°å‚è€ƒ

```
knowledge-base/chroma-db/          çº¦ 800MB-2GB  (æœªå‹ç¼©)
eu5-kb-prebuilt.zip                çº¦ 200MB-500MB (å‹ç¼©)
scripts/                           çº¦ 500KB
mcp-servers/                       çº¦ 100KB
prompts/                           çº¦ 200KB
config.yaml                        çº¦ 5KB

æ€»è®¡ï¼ˆä¸å«çŸ¥è¯†åº“ï¼‰ï¼š               çº¦ 800KB
æ€»è®¡ï¼ˆå«å‹ç¼©çŸ¥è¯†åº“ï¼‰ï¼š             çº¦ 200-500MB
```

## ğŸ‰ æœ€ä½³å®è·µ

1. **ç‰ˆæœ¬æ§åˆ¶**
   ```bash
   # ä½¿ç”¨Gitç®¡ç†modä»£ç 
   git init
   git add .
   git commit -m "Initial commit"
   
   # .gitignore å·²é…ç½®å¥½
   # ä¸ä¼šæäº¤å¤§å‹äºŒè¿›åˆ¶æ–‡ä»¶
   ```

2. **å®šæœŸæ›´æ–°çŸ¥è¯†åº“**
   ```bash
   # æ¸¸æˆå¤§æ›´æ–°å
   python scripts/build_portable_kb.py
   
   # æ›´æ–°æ—¥æœŸè®°å½•åœ¨ metadata.json
   ```

3. **å¤‡ä»½é…ç½®**
   ```bash
   # å¤‡ä»½ä¸ªäººé…ç½®
   cp config.yaml config.yaml.backup
   cp .env .env.backup
   ```

4. **æ–‡æ¡£åŒæ­¥**
   ```bash
   # å›¢é˜Ÿæ–‡æ¡£æ”¾åœ¨ docs/
   # ä¼šè‡ªåŠ¨åŒ…å«åœ¨çŸ¥è¯†åº“ä¸­
   ```

## ğŸš€ å¼€å§‹ä½¿ç”¨

ç°åœ¨ä½ å·²ç»äº†è§£äº†å®Œæ•´çš„ä¾¿æºå¼ä½¿ç”¨æ–¹æ³•ï¼

**å¿«é€Ÿå¼€å§‹**ï¼š
```bash
# ç¬¬ä¸€å°ç”µè„‘
python scripts/auto_config.py
python scripts/build_portable_kb.py

# ç¬¬äºŒå°ç”µè„‘
python scripts/auto_config.py
python scripts/load_portable_kb.py

# å®Œæˆï¼å¼€å§‹å¼€å‘
```

éœ€è¦å¸®åŠ©ï¼ŸæŸ¥çœ‹å…¶ä»–æ–‡æ¡£ï¼š
- `QUICK_START.md` - å¿«é€Ÿå…¥é—¨
- `README_EU5_AGENT.md` - å®Œæ•´åŠŸèƒ½è¯´æ˜
- `USAGE_EXAMPLES.md` - ä½¿ç”¨ç¤ºä¾‹

